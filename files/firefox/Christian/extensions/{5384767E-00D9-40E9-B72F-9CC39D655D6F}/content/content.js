(function(){function d(){if(content.location.href.match(/.*synchronize.*/)){content.document.body.style.cursor="default";for(var a=content.document.getElementsByTagName("a"),b=0;b<a.length;b++)a[b].style.cursor="pointer"}}function e(){if(content.location.href.match(/.*synchronize.*/)){content.document.body.style.cursor="wait";for(var a=content.document.getElementsByTagName("a"),b=0;b<a.length;b++)a[b].style.cursor="wait"}}function f(a){if(content.location.href.match(/.*synchronize.*/)){a=String(a.json.text);
var b=content.document.getElementById("message");b.innerHTML=0<a.length?b.innerHTML+"<br>"+a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}}var c=Components.utils;c.import("resource://gre/modules/Services.jsm");var g=Services.appinfo.processType===Services.appinfo.PROCESS_TYPE_CONTENT;addMessageListener("Epubreader:Sync:showProgress",f);addMessageListener("Epubreader:Sync:setWaitStatus",e);addMessageListener("Epubreader:Sync:setDefaultStatus",
d);g&&(c.import("chrome://epubreader/content/EpubreaderRegistrar.jsm"),EpubreaderRegistrar.register())})();
